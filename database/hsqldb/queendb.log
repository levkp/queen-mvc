/*C12*/SET SCHEMA PUBLIC
drop table if exists album CASCADE 
drop table if exists app_user CASCADE 
drop table if exists genre CASCADE 
drop table if exists song CASCADE 
drop table if exists song_genre CASCADE 
drop sequence entity_pk_seq if exists
drop sequence hibernate_sequence if exists
create sequence entity_pk_seq start with 1 increment by 1
create sequence hibernate_sequence start with 1 increment by 1
create table album (id integer not null, description varchar(5000), title varchar(30) not null, owner_id bigint, release date not null, primary key (id))
create table app_user (id bigint not null, is_admin boolean not null, secret varchar(255) not null, username varchar(255) not null, primary key (id))
create table genre (id integer not null, name varchar(255) not null, primary key (id))
create table song (id integer not null, description varchar(5000), title varchar(30) not null, owner_id bigint, finished_recording timestamp not null, length double not null, album_id integer, primary key (id))
create table song_genre (id integer not null, genre_ordinals integer)
alter table album add constraint UK_3a47omptijvdn5qupc38c4dfi unique (title)
alter table app_user add constraint UK_3k4cplvh82srueuttfkwnylq0 unique (username)
alter table genre add constraint UK_ctffrbu4484ft8dlsa5vmqdka unique (name)
alter table song add constraint UK_901hm98fbktx31qydca5xntn4 unique (title)
alter table album add constraint FK_dr2e6i6cc0ga4srnhj4ts04yh foreign key (owner_id) references app_user
alter table song add constraint FKrcjmk41yqj3pl3iyii40niab0 foreign key (album_id) references album
alter table song add constraint FK_hlw6f1o62mgmp9p6qwff8skgg foreign key (owner_id) references app_user
alter table song_genre add constraint FKf3rf9h261vlifohtmrqvm437l foreign key (id) references song
INSERT INTO GENRE VALUES(0,'Art rock')
INSERT INTO GENRE VALUES(1,'Avant pop')
INSERT INTO GENRE VALUES(2,'Glam rock')
INSERT INTO GENRE VALUES(3,'Hard rock')
INSERT INTO GENRE VALUES(4,'Heavy metal')
INSERT INTO GENRE VALUES(5,'Opera')
INSERT INTO GENRE VALUES(6,'Power pop')
INSERT INTO GENRE VALUES(7,'Progressive rock')
INSERT INTO GENRE VALUES(8,'Soft rock')
COMMIT
INSERT INTO APP_USER VALUES(1,FALSE,'$2a$10$W1vAyPOi6mTP7bPcJ8lOP.TuH4y321TBWx3EMId2hN6shtY3JFFsu','standard')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO APP_USER VALUES(2,TRUE,'$2a$10$EmVOi41dethchJhpknvmWej4J2drNQXQ5f2geUOX0.HE3vqhob5b2','admin')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
INSERT INTO ALBUM VALUES(1,'','Queen',1,'1973-07-13')
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 2
COMMIT
INSERT INTO SONG VALUES(2,NULL,'Keep Yourself Alive',1,'1972-11-01 00:00:00.000000',3.47E0,1)
INSERT INTO SONG_GENRE VALUES(2,6)
INSERT INTO SONG_GENRE VALUES(2,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 3
COMMIT
INSERT INTO SONG VALUES(3,NULL,'Doing All Right',1,'1971-08-01 00:00:00.000000',4.09E0,1)
INSERT INTO SONG_GENRE VALUES(3,7)
INSERT INTO SONG_GENRE VALUES(3,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 4
COMMIT
INSERT INTO SONG VALUES(4,NULL,'Great King Rat',1,'1971-09-01 00:00:00.000000',5.41E0,1)
INSERT INTO SONG_GENRE VALUES(4,4)
INSERT INTO SONG_GENRE VALUES(4,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 5
COMMIT
INSERT INTO SONG VALUES(5,NULL,'My Fairy King',1,'1971-10-01 00:00:00.000000',4.07E0,1)
INSERT INTO SONG_GENRE VALUES(5,5)
INSERT INTO SONG_GENRE VALUES(5,7)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 6
COMMIT
INSERT INTO ALBUM VALUES(6,'','Queen II',1,'1974-03-08')
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 7
COMMIT
INSERT INTO SONG VALUES(7,NULL,'Procession',1,'1973-08-01 00:00:00.000000',1.12E0,6)
INSERT INTO SONG_GENRE VALUES(7,7)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 8
COMMIT
INSERT INTO SONG VALUES(8,NULL,'Father to Son',1,'1973-08-01 00:00:00.000000',6.14E0,6)
INSERT INTO SONG_GENRE VALUES(8,4)
INSERT INTO SONG_GENRE VALUES(8,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 9
COMMIT
INSERT INTO SONG VALUES(9,NULL,'White Queen (As It Began)',1,'1974-02-01 00:00:00.000000',4.34E0,6)
INSERT INTO SONG_GENRE VALUES(9,4)
INSERT INTO SONG_GENRE VALUES(9,2)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 10
COMMIT
INSERT INTO SONG VALUES(10,NULL,'Some Day One Day',1,'1974-02-01 00:00:00.000000',4.23E0,6)
INSERT INTO SONG_GENRE VALUES(10,4)
INSERT INTO SONG_GENRE VALUES(10,2)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 11
COMMIT
INSERT INTO SONG VALUES(11,NULL,'The Loser in the End',1,'1974-02-01 00:00:00.000000',4.02E0,6)
INSERT INTO SONG_GENRE VALUES(11,2)
INSERT INTO SONG_GENRE VALUES(11,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 12
COMMIT
INSERT INTO ALBUM VALUES(12,NULL,'Sheer Heart Attack',1,'1974-11-08')
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 13
COMMIT
INSERT INTO SONG VALUES(13,NULL,'Brighton Rock',1,'1974-10-01 00:00:00.000000',5.11E0,12)
INSERT INTO SONG_GENRE VALUES(13,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 14
COMMIT
INSERT INTO SONG VALUES(14,NULL,'Killer Queen',1,'1974-08-01 00:00:00.000000',3.0E0,12)
INSERT INTO SONG_GENRE VALUES(14,0)
INSERT INTO SONG_GENRE VALUES(14,2)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 15
COMMIT
INSERT INTO SONG VALUES(15,NULL,'Flick of the Wrist',1,'1974-08-01 00:00:00.000000',3.18E0,12)
INSERT INTO SONG_GENRE VALUES(15,3)
INSERT INTO SONG_GENRE VALUES(15,4)
INSERT INTO SONG_GENRE VALUES(15,2)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 16
COMMIT
INSERT INTO ALBUM VALUES(16,NULL,'Jazz',2,'1978-11-10')
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 17
COMMIT
INSERT INTO SONG VALUES(17,NULL,'Mustapha',2,'1978-10-01 00:00:00.000000',5.11E0,16)
INSERT INTO SONG_GENRE VALUES(17,3)
INSERT INTO SONG_GENRE VALUES(17,0)
INSERT INTO SONG_GENRE VALUES(17,7)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 18
COMMIT
INSERT INTO SONG VALUES(18,NULL,'Fat Bottomed Girls',2,'1978-09-01 00:00:00.000000',3.0E0,16)
INSERT INTO SONG_GENRE VALUES(18,3)
INSERT INTO SONG_GENRE VALUES(18,2)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 19
COMMIT
INSERT INTO SONG VALUES(19,NULL,'Jealousy',2,'1978-10-01 00:00:00.000000',3.18E0,16)
INSERT INTO SONG_GENRE VALUES(19,8)
INSERT INTO SONG_GENRE VALUES(19,3)
ALTER SEQUENCE PUBLIC.ENTITY_PK_SEQ RESTART WITH 20
COMMIT
DELETE FROM SONG_GENRE WHERE ID=2 AND GENRE_ORDINALS=6
DELETE FROM SONG_GENRE WHERE ID=2 AND GENRE_ORDINALS=3
DELETE FROM SONG_GENRE WHERE ID=3 AND GENRE_ORDINALS=7
DELETE FROM SONG_GENRE WHERE ID=3 AND GENRE_ORDINALS=3
DELETE FROM SONG_GENRE WHERE ID=4 AND GENRE_ORDINALS=4
DELETE FROM SONG_GENRE WHERE ID=4 AND GENRE_ORDINALS=3
DELETE FROM SONG_GENRE WHERE ID=5 AND GENRE_ORDINALS=5
DELETE FROM SONG_GENRE WHERE ID=5 AND GENRE_ORDINALS=7
DELETE FROM SONG WHERE ID=2
DELETE FROM SONG WHERE ID=3
DELETE FROM SONG WHERE ID=4
DELETE FROM SONG WHERE ID=5
DELETE FROM ALBUM WHERE ID=1
COMMIT
